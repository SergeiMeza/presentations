slidenumbers: true

# ソーシャルライブサービスにおけるデジタル化粧の仕組みと実装

## noppe at DeNA

[.footer: iOSDC 2019/09/07 13:30~ Track A 30min.]

---

# noppe

//TODO: 自己紹介

---

# Pococha

//TODO: Pococha紹介
// SenseMeというSDKを利用している

---

# デジタル化粧

ここでは、顔画像を加工する事で顔を綺麗にすることをさす
実際にメイクせずに撮影を開始することができる

---

# デジタル化粧の種類

- ステッカー　コスプレ
- マテリアル補正　化粧
- パーツ補正　整形

<!-- パネル横に3枚 -->

---

# ステッカー

- 画像を顔周辺に追従させる
- 効果：顔のパーツを隠す・意識を分散させる・人間以外のものになり切る・デジタルコスプレ
- 2D/3Dステッカー

<!-- ビデオ -->

---

# ステッカー技術

- 顔認識
- 追従
- 合成

---

# 顔認識

- CIDetector
- Vision
- ARKit

- MLKit
- OpenCV

- SenseMe
- ByteDanceSDK

---

# 比較

有料・無料
速度
特徴量
対応機種OS
landmark

速度は非常に大事、リアルタイムの処理で許される時間は数秒

---

# 実装

zipを解答
CIFilterによる合成
ARKitから座標を取り出すには

---

# 応用

カラーコンタクト

---

# マテリアル補正

ここでは肌質を良くする

- シェーダ

---

# 処理の過程

ステッカーで実装することも出来ます（チークなど）
Photoshopの加工例
<!-- https://liginc.co.jp/web/design/photoshop/129524 -->
high pass skin smoothingが有名、これを解説します。

---

# 解説

ガウシアンブラーかける
ハイパスかける
//https://qiita.com/secang0/items/f3a3ff629988dc660d87#ハイパスフィルター
//https://askjapan.me/q/photoshop-35033779880

---

# 実装

---

# パーツ補正

- 歪ませる

---

# プロダクトへの応用難易度

ソーシャルライブにおけるデジタル化粧は、自然さや外れないことも重要
その瞬間に映像は配信されるので求められる品質は非常に高い

---